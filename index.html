<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SlimSelect Issue #75 Demo</title>
    <link href="demo.css" rel="stylesheet" />
    <link href="slimselect.min.css" rel="stylesheet" />
    <script>
        function init() {
            let s1 = document.getElementById('s1'),
                s2 = document.getElementById('s2'),
                s3 = document.getElementById('s3'),
                s4 = document.getElementById('s4');
            new SlimSelect({
                select: s1,
                allowDeselect: true,
                placeholder: s1.options[0].text,
                data: getData(s1)
            });
            new SlimSelect({
                select: s2,
                allowDeselect: true,
                placeholder: s2.options[0].text,
                data: getData(s2)
            });
            new SlimSelect({
                select: s3,
                allowDeselect: true,
                placeholder: s3.options[0].text,
                data: getData(s3)
            });
            new SlimSelect({
                select: s4,
                allowDeselect: true,
                placeholder: s4.options[0].text,
                data: getData(s4)
            });
        }

        function getData(select) {
            let data = [];
            for(let i = 0; i < select.options.length; i++) {
                let o = select.options[i];
                if(o.hasAttribute('data-placeholder')) {
                    data[i] = {
                        text:'',
                        placeholder: true
                    };
                }
                else {
                    data[i] = {
                        text: o.text,
                        value: o.value,
                        innerHTML: o.text + '<i class="ss-badge">'+o.getAttribute('data-badge')+'</i>',
                        selected: o.selected,
                        data: o.dataset
                    };
                }
            }
            return data;
        }
    </script>
</head>
<body>

    <form action="index.html" method="post">
        <div class="row">
            <label for="s1">Select with BAR option selected</label>
            <select name="form[s1]" id="s1">
                <option value="" data-placeholder="true">Select Value</option>
                <option value="1" data-badge="AT">FOO</option>
                <option value="2" data-badge="IT" selected="selected">BAR</option>
                <option value="3" data-badge="CZ">BAZ</option>
            </select>
        </div>
        <div class="row">
            <label for="s2">*Disabled* Select with BAR option selected</label>
            <select name="form[s2]" id="s2" disabled="disabled">
                <option value="" data-placeholder="true">Select Value</option>
                <option value="1" data-badge="AT">FOO</option>
                <option value="2" data-badge="IT" selected="selected">BAR</option>
                <option value="3" data-badge="CZ">BAZ</option>
            </select>
        </div>
        <div class="row">
            <label for="s3">Select with no option selected (placeholder)</label>
            <select name="form[s3]" id="s3">
                <option value="" data-placeholder="true">Select Value</option>
                <option value="1" data-badge="AT">FOO</option>
                <option value="2" data-badge="IT">BAR</option>
                <option value="3" data-badge="CZ">BAZ</option>
            </select>
        </div>
        <div class="row">
            <label for="s4">*Disabled* Select with no option selected (placeholder)</label>
            <select name="form[s3]" id="s4" disabled="disabled">
                <option value="" data-placeholder="true">Select Value</option>
                <option value="1" data-badge="AT">FOO</option>
                <option value="2" data-badge="IT">BAR</option>
                <option value="3" data-badge="CZ">BAZ</option>
            </select>
        </div>
    </form>
    <script src="slimselect.min.js"></script>
    <script>init();</script>
</body>
</html>